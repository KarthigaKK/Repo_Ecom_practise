package Utilities;

import java.util.Iterator;
import java.util.Set;

import PageObjects.OfferPage;

public class GenericUtils {
	TestContextSetup testContextSetup;
	public GenericUtils(TestContextSetup testContextSetup)
	{
		this.testContextSetup=testContextSetup;
	}
	
	public void SwitchWindowToChild()
	{
		//OfferPage op=new OfferPage(testContextSetup.driver);
		//testContextSetup.driver.findElement(By.xpath("//a[normalize-space()='Top Deals']")).click();

		//pageObjectManager=new PageObjectManager(testContextSetup.driver);
		OfferPage op=testContextSetup.pageObjectManager.getOfferPage();
		op.clickTopDeal();
		Set<String> windowids = testContextSetup.driver.getWindowHandles();
		Iterator<String> it = windowids.iterator();

		while (it.hasNext()) {
			String parentwindow = it.next();
			String childWindow = it.next();
			testContextSetup.driver.switchTo().window(childWindow);
		}
	}

}
